<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Бюро Ремонту</title>
    <!-- Подключение шрифта Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* Плавный градиент фона */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            background: linear-gradient(135deg, #0f0f0f 0%, #1c1c1c 25%, #333333 50%, #4d4d4d 75%, #0f0f0f 100%);
            background-size: 400% 400%;
            animation: gradient 30s ease infinite;
            color: #fff;
            overflow-x: hidden;
            position: relative; /* Добавлено для позиционирования времени */
        }
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        header {
            background-color: rgba(15, 15, 15, 0.9);
            color: #FFD700; /* Золотой цвет */
            padding: 30px;
            text-align: center;
            font-size: 40px;
            font-weight: 700;
        }
        nav {
            background-color: rgba(28, 28, 28, 0.9);
            overflow: hidden;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        nav a {
            display: block;
            color: #fff;
            background-color: #4d4d4d;
            text-align: center;
            padding: 15px;
            text-decoration: none;
            font-size: 20px;
            margin-bottom: 10px;
            border-radius: 15px;
            border: 1px solid #000;
            width: 200px; /* Фиксированная ширина кнопок */
            transition: background-color 0.3s, transform 0.3s;
        }
        nav a:hover {
            background-color: #FFA500;
            transform: scale(1.05);
        }
        main {
            padding: 30px;
            color: #fff;
            background-color: rgba(15, 15, 15, 0.85);
            margin: 20px auto;
            max-width: 1000px; /* Увеличенная ширина поля под данные */
            border-radius: 15px;
        }
        section {
            display: flex;
            flex-direction: column;
            align-items: center; /* Центрирование содержимого секций */
        }
        form {
            width: 100%;
            max-width: 600px; /* Ограничение ширины формы */
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        form input, form select, form button {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #000;
            border-radius: 10px;
            background-color: #4d4d4d;
            color: #fff;
            font-size: 18px;
        }
        form label {
            font-weight: 500;
            color: #FFD700;
            font-size: 20px;
            width: 100%;
            margin-bottom: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: rgba(28, 28, 28, 0.9);
            color: #fff;
            margin-top: 20px;
            border-radius: 10px;
            overflow: hidden;
        }
        table, th, td {
            border: 1px solid #444;
        }
        th {
            background-color: rgba(15, 15, 15, 0.9);
            padding: 15px;
            text-align: left;
            font-size: 20px;
        }
        td {
            padding: 12px;
            font-size: 18px;
        }
        .error {
            color: #ff4d4d;
        }
        .hidden {
            display: none;
        }
        #backButton {
            margin-top: 20px;
            background-color: #4d4d4d;
            color: #fff;
            padding: 15px 25px;
            border: 1px solid #000;
            cursor: pointer;
            border-radius: 15px;
            font-size: 18px;
            transition: background-color 0.3s, transform 0.3s;
            width: 200px; /* Фиксированная ширина кнопки */
        }
        #backButton:hover {
            background-color: #FFA500;
            transform: scale(1.05);
        }
        button {
            background-color: #4d4d4d;
            color: #fff;
            border: 1px solid #000;
            cursor: pointer;
            border-radius: 15px;
            padding: 15px 25px;
            font-size: 18px;
            transition: background-color 0.3s, transform 0.3s;
            width: 200px; /* Фиксированная ширина кнопок */
        }
        button:hover {
            background-color: #FFA500;
            transform: scale(1.05);
        }
        .action-buttons button {
            margin-right: 10px;
            padding: 10px 20px;
            font-size: 16px;
            width: auto; /* Кнопки действий могут иметь автоширину */
        }
        h2 {
            color: #FFA500;
            font-size: 32px;
            font-weight: 500;
            margin-bottom: 25px;
            text-align: center;
        }
        /* Стили для отображения времени */
        #currentTime {
            position: fixed;
            bottom: 10px;
            left: 10px;
            font-size: 18px;
            color: #FFA500;
            background-color: rgba(15, 15, 15, 0.7);
            padding: 10px 15px;
            border-radius: 10px;
        }
        /* Стили для игры "Змейка" */
        #snakeGame {
            background-color: #000;
            display: block;
            margin: 20px auto;
            border: 1px solid #fff;
            touch-action: none; /* Отключаем жесты по умолчанию */
        }
        #score {
            font-size: 24px;
            color: #FFA500;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<header>
    Бюро Ремонту
</header>

<nav>
    <a href="#" onclick="showSection('add')">Додати елемент</a>
    <a href="#" onclick="showSection('view')">Виведення всіх даних</a>
    <a href="#" onclick="showSection('filterCost')">Фільтр за вартістю</a>
    <a href="#" onclick="showSection('filterCity')">Роботи за містом</a>
    <a href="#" onclick="showSection('totalCost')">Сумарна вартість за адресою</a>
    <a href="#" onclick="showSection('longestWork')">Найтриваліша робота</a>
    <a href="#" onclick="showSection('lastYearCity')">Роботи за містом минулого року</a>
    <a href="#" onclick="showSection('snake')">Змійка</a>
</nav>

<main>
    <!-- Додавання елемента -->
    <section id="addSection" class="hidden">
        <h2>Додати новий елемент</h2>
        <form id="addForm">
            <label>Місто:
                <input type="text" name="city" required>
            </label>
            <label>Адреса:
                <input type="text" name="address" required>
            </label>
            <label>Вид ремонтних робіт:
                <input type="text" name="workType" required>
            </label>
            <label>Вартість:
                <input type="number" name="cost" min="0" required>
            </label>
            <label>Дата початку:
                <input type="date" name="startDate" required>
            </label>
            <label>Дата закінчення:
                <input type="date" name="endDate" required>
            </label>
            <button type="submit">Додати</button>
            <p class="error" id="addError"></p>
        </form>
    </section>

    <!-- Виведення всіх даних -->
    <section id="viewSection" class="hidden">
        <h2>Всі дані</h2>
        <button onclick="sortByCost()">Сортувати за вартістю</button>
        <table id="recordsTable">
            <thead>
                <tr>
                    <th>Місто</th>
                    <th>Адреса</th>
                    <th>Вид робіт</th>
                    <th>Вартість</th>
                    <th>Початок</th>
                    <th>Завершення</th>
                    <th>Дії</th>
                </tr>
            </thead>
            <tbody>
                <!-- Записи будуть додані динамічно -->
            </tbody>
        </table>
    </section>

    <!-- Фільтр за вартістю -->
    <section id="filterCostSection" class="hidden">
        <h2>Елементи з вартістю вище заданої</h2>
        <form id="filterCostForm">
            <label>Мінімальна вартість:
                <input type="number" name="minCost" min="0" required>
            </label>
            <button type="submit">Фільтрувати</button>
            <p class="error" id="filterCostError"></p>
        </form>
        <table id="filterCostTable">
            <thead>
                <tr>
                    <th>Місто</th>
                    <th>Адреса</th>
                    <th>Вид робіт</th>
                    <th>Вартість</th>
                    <th>Початок</th>
                    <th>Завершення</th>
                </tr>
            </thead>
            <tbody>
                <!-- Результати фільтрації -->
            </tbody>
        </table>
    </section>

    <!-- Роботи за вибраним містом -->
    <section id="filterCitySection" class="hidden">
        <h2>Роботи за вибраним містом</h2>
        <form id="filterCityForm">
            <label>Місто:
                <input type="text" name="city" required>
            </label>
            <button type="submit">Пошук</button>
            <p class="error" id="filterCityError"></p>
        </form>
        <table id="filterCityTable">
            <thead>
                <tr>
                    <th>Місто</th>
                    <th>Адреса</th>
                    <th>Вид робіт</th>
                    <th>Вартість</th>
                    <th>Початок</th>
                    <th>Завершення</th>
                </tr>
            </thead>
            <tbody>
                <!-- Результати пошуку -->
            </tbody>
        </table>
    </section>

    <!-- Сумарна вартість за адресою -->
    <section id="totalCostSection" class="hidden">
        <h2>Сумарна вартість робіт за адресою</h2>
        <form id="totalCostForm">
            <label>Адреса:
                <input type="text" name="address" required>
            </label>
            <button type="submit">Розрахувати</button>
            <p class="error" id="totalCostError"></p>
        </form>
        <p id="totalCostResult"></p>
    </section>

    <!-- Найтриваліша робота -->
    <section id="longestWorkSection" class="hidden">
        <h2>Найтриваліша робота</h2>
        <button onclick="findLongestWork()">Показати</button>
        <table id="longestWorkTable">
            <thead>
                <tr>
                    <th>Місто</th>
                    <th>Адреса</th>
                    <th>Вид робіт</th>
                    <th>Вартість</th>
                    <th>Початок</th>
                    <th>Завершення</th>
                    <th>Тривалість (дні)</th>
                </tr>
            </thead>
            <tbody>
                <!-- Найтриваліша робота -->
            </tbody>
        </table>
    </section>

    <!-- Роботи за містом минулого року -->
    <section id="lastYearCitySection" class="hidden">
        <h2>Роботи за вибраним містом за минулий рік</h2>
        <form id="lastYearCityForm">
            <label>Місто:
                <input type="text" name="city" required>
            </label>
            <button type="submit">Пошук</button>
            <p class="error" id="lastYearCityError"></p>
        </form>
        <table id="lastYearCityTable">
            <thead>
                <tr>
                    <th>Місто</th>
                    <th>Адреса</th>
                    <th>Вид робіт</th>
                    <th>Вартість</th>
                    <th>Початок</th>
                    <th>Завершення</th>
                </tr>
            </thead>
            <tbody>
                <!-- Результати пошуку -->
            </tbody>
        </table>
    </section>

    <!-- Гра "Змійка" -->
    <section id="snakeSection" class="hidden">
        <h2>Гра "Змійка"</h2>
        <canvas id="snakeGame" width="400" height="400"></canvas>
        <div id="score">Рахунок: 0</div>
    </section>

</main>

<button id="backButton" class="hidden" onclick="goBack()">Назад</button>

<!-- Блок для отображения текущего времени -->
<div id="currentTime"></div>

<script>
    let records = [];

    function showSection(section) {
        const sections = ['add', 'view', 'filterCost', 'filterCity', 'totalCost', 'longestWork', 'lastYearCity', 'snake'];
        sections.forEach(sec => {
            document.getElementById(sec + 'Section').classList.add('hidden');
        });
        document.getElementById(section + 'Section').classList.remove('hidden');
        document.getElementById('backButton').classList.remove('hidden');

        // Очищение предыдущих результатов
        if (section === 'view') {
            displayRecords();
        } else if (section === 'filterCost') {
            document.getElementById('filterCostForm').reset();
            document.getElementById('filterCostTable').getElementsByTagName('tbody')[0].innerHTML = '';
            document.getElementById('filterCostError').textContent = '';
        } else if (section === 'filterCity') {
            document.getElementById('filterCityForm').reset();
            document.getElementById('filterCityTable').getElementsByTagName('tbody')[0].innerHTML = '';
            document.getElementById('filterCityError').textContent = '';
        } else if (section === 'totalCost') {
            document.getElementById('totalCostForm').reset();
            document.getElementById('totalCostResult').textContent = '';
            document.getElementById('totalCostError').textContent = '';
        } else if (section === 'longestWork') {
            document.getElementById('longestWorkTable').getElementsByTagName('tbody')[0].innerHTML = '';
        } else if (section === 'lastYearCity') {
            document.getElementById('lastYearCityForm').reset();
            document.getElementById('lastYearCityTable').getElementsByTagName('tbody')[0].innerHTML = '';
            document.getElementById('lastYearCityError').textContent = '';
        }

        // Инициализация игры "Змейка", если выбран соответствующий раздел
        if (section === 'snake') {
            initSnakeGame();
        } else {
            stopSnakeGame();
        }
    }

    function goBack() {
        const sections = ['add', 'view', 'filterCost', 'filterCity', 'totalCost', 'longestWork', 'lastYearCity', 'snake'];
        sections.forEach(sec => {
            document.getElementById(sec + 'Section').classList.add('hidden');
        });
        document.getElementById('backButton').classList.add('hidden');

        // Останавливаем игру "Змейка", если вернулись назад
        stopSnakeGame();
    }

    // Додавання елемента
    document.getElementById('addForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const form = e.target;
        const newRecord = {
            city: form.city.value.trim(),
            address: form.address.value.trim(),
            workType: form.workType.value.trim(),
            cost: parseFloat(form.cost.value),
            startDate: form.startDate.value,
            endDate: form.endDate.value
        };

        // Проверка данных
        if (newRecord.cost < 0) {
            document.getElementById('addError').textContent = 'Вартість не може бути від\'ємною.';
            return;
        }
        if (new Date(newRecord.startDate) > new Date(newRecord.endDate)) {
            document.getElementById('addError').textContent = 'Дата початку не може бути пізніше дати закінчення.';
            return;
        }

        records.push(newRecord);
        form.reset();
        document.getElementById('addError').textContent = '';
        alert('Елемент успішно додано.');
    });

    // Отображение записей
    function displayRecords() {
        const tbody = document.getElementById('recordsTable').getElementsByTagName('tbody')[0];
        tbody.innerHTML = '';
        records.forEach((record, index) => {
            const row = tbody.insertRow();
            row.insertCell(0).textContent = record.city;
            row.insertCell(1).textContent = record.address;
            row.insertCell(2).textContent = record.workType;
            row.insertCell(3).textContent = record.cost;
            row.insertCell(4).textContent = record.startDate;
            row.insertCell(5).textContent = record.endDate;
            const actionsCell = row.insertCell(6);
            actionsCell.classList.add('action-buttons');

            // Кнопка редактирования
            const editButton = document.createElement('button');
            editButton.textContent = 'Редагувати';
            editButton.onclick = () => editRecord(index);
            actionsCell.appendChild(editButton);

            // Кнопка удаления
            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'Видалити';
            deleteButton.onclick = () => deleteRecord(index);
            actionsCell.appendChild(deleteButton);
        });
    }

    // Редактирование записи
    function editRecord(index) {
        const record = records[index];
        if (confirm('Ви дійсно хочете редагувати цей запис?')) {
            showSection('add');
            const form = document.getElementById('addForm');
            form.city.value = record.city;
            form.address.value = record.address;
            form.workType.value = record.workType;
            form.cost.value = record.cost;
            form.startDate.value = record.startDate;
            form.endDate.value = record.endDate;
            records.splice(index, 1);
        }
    }

    // Удаление записи
    function deleteRecord(index) {
        if (index < 0 || index >= records.length) {
            alert('Номер запису виходить за межі масиву.');
            return;
        }
        if (confirm('Ви дійсно хочете видалити цей запис?')) {
            records.splice(index, 1);
            displayRecords();
            alert('Елемент успішно видалено.');
        }
    }

    // Сортировка по стоимости
    function sortByCost() {
        records.sort((a, b) => a.cost - b.cost);
        displayRecords();
    }

    // Фильтрация по стоимости
    document.getElementById('filterCostForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const minCost = parseFloat(e.target.minCost.value);
        const results = records.filter(record => record.cost > minCost);

        const tbody = document.getElementById('filterCostTable').getElementsByTagName('tbody')[0];
        tbody.innerHTML = '';

        if (results.length === 0) {
            document.getElementById('filterCostError').textContent = 'Нічого не знайдено за результатами фільтрації.';
            return;
        } else {
            document.getElementById('filterCostError').textContent = '';
        }

        results.forEach(record => {
            const row = tbody.insertRow();
            row.insertCell(0).textContent = record.city;
            row.insertCell(1).textContent = record.address;
            row.insertCell(2).textContent = record.workType;
            row.insertCell(3).textContent = record.cost;
            row.insertCell(4).textContent = record.startDate;
            row.insertCell(5).textContent = record.endDate;
        });
    });

    // Поиск работ по городу
    document.getElementById('filterCityForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const city = e.target.city.value.trim().toLowerCase();
        const results = records.filter(record => record.city.toLowerCase() === city);

        const tbody = document.getElementById('filterCityTable').getElementsByTagName('tbody')[0];
        tbody.innerHTML = '';

        if (results.length === 0) {
            document.getElementById('filterCityError').textContent = 'Нічого не знайдено за результатами пошуку.';
            return;
        } else {
            document.getElementById('filterCityError').textContent = '';
        }

        results.forEach(record => {
            const row = tbody.insertRow();
            row.insertCell(0).textContent = record.city;
            row.insertCell(1).textContent = record.address;
            row.insertCell(2).textContent = record.workType;
            row.insertCell(3).textContent = record.cost;
            row.insertCell(4).textContent = record.startDate;
            row.insertCell(5).textContent = record.endDate;
        });
    });

    // Подсчет суммарной стоимости по адресу
    document.getElementById('totalCostForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const address = e.target.address.value.trim().toLowerCase();
        const results = records.filter(record => record.address.toLowerCase() === address);

        if (results.length === 0) {
            document.getElementById('totalCostError').textContent = 'Нічого не знайдено за цією адресою.';
            document.getElementById('totalCostResult').textContent = '';
            return;
        } else {
            document.getElementById('totalCostError').textContent = '';
        }

        const totalCost = results.reduce((sum, record) => sum + record.cost, 0);
        document.getElementById('totalCostResult').textContent = `Сумарна вартість робіт за адресою "${address}": ${totalCost}`;
    });

    // Поиск самой продолжительной работы
    function findLongestWork() {
        if (records.length === 0) {
            alert('Немає записів для аналізу.');
            return;
        }
        let longestRecord = records[0];
        let maxDuration = calculateDuration(records[0]);

        records.forEach(record => {
            const duration = calculateDuration(record);
            if (duration > maxDuration) {
                maxDuration = duration;
                longestRecord = record;
            }
        });

        const tbody = document.getElementById('longestWorkTable').getElementsByTagName('tbody')[0];
        tbody.innerHTML = '';
        const row = tbody.insertRow();
        row.insertCell(0).textContent = longestRecord.city;
        row.insertCell(1).textContent = longestRecord.address;
        row.insertCell(2).textContent = longestRecord.workType;
        row.insertCell(3).textContent = longestRecord.cost;
        row.insertCell(4).textContent = longestRecord.startDate;
        row.insertCell(5).textContent = longestRecord.endDate;
        row.insertCell(6).textContent = maxDuration;
    }

    function calculateDuration(record) {
        const start = new Date(record.startDate);
        const end = new Date(record.endDate);
        return Math.ceil((end - start) / (1000 * 60 * 60 * 24));
    }

    // Работы по городу за прошлый год
    document.getElementById('lastYearCityForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const city = e.target.city.value.trim().toLowerCase();
        const lastYear = new Date().getFullYear() - 1;
        const results = records.filter(record => {
            const endDate = new Date(record.endDate);
            return record.city.toLowerCase() === city && endDate.getFullYear() === lastYear;
        });

        const tbody = document.getElementById('lastYearCityTable').getElementsByTagName('tbody')[0];
        tbody.innerHTML = '';

        if (results.length === 0) {
            document.getElementById('lastYearCityError').textContent = 'Нічого не знайдено за результатами пошуку.';
            return;
        } else {
            document.getElementById('lastYearCityError').textContent = '';
        }

        results.forEach(record => {
            const row = tbody.insertRow();
            row.insertCell(0).textContent = record.city;
            row.insertCell(1).textContent = record.address;
            row.insertCell(2).textContent = record.workType;
            row.insertCell(3).textContent = record.cost;
            row.insertCell(4).textContent = record.startDate;
            row.insertCell(5).textContent = record.endDate;
        });
    });

    // Отображение текущего времени в левом нижнем углу
    function showCurrentTime() {
        const now = new Date();
        const timeString = now.toLocaleTimeString();
        document.getElementById('currentTime').textContent = 'Поточний час: ' + timeString;
    }

    // Обновлять время каждую секунду
    setInterval(showCurrentTime, 1000);

    // Вызов функции при загрузке страницы
    window.onload = function() {
        showCurrentTime();
    };

    // КОД ИГРЫ "ЗМЕЙКА"
    let canvas, ctx;
    let snake = [];
    let food;
    let direction;
    let gameInterval;
    let score = 0;

    let touchStartX = 0;
    let touchStartY = 0;
    let touchEndX = 0;
    let touchEndY = 0;

    function initSnakeGame() {
        canvas = document.getElementById('snakeGame');
        ctx = canvas.getContext('2d');
        resetSnakeGame();
        document.addEventListener('keydown', changeDirection);
        document.addEventListener('keydown', preventArrowScroll);
        canvas.addEventListener('touchstart', touchStart);
        canvas.addEventListener('touchmove', touchMove);
        canvas.addEventListener('touchend', touchEnd);
        if (gameInterval) clearInterval(gameInterval);
        gameInterval = setInterval(gameLoop, 100);
    }

    function stopSnakeGame() {
        if (gameInterval) {
            clearInterval(gameInterval);
            gameInterval = null;
        }
        document.removeEventListener('keydown', changeDirection);
        document.removeEventListener('keydown', preventArrowScroll);
        canvas.removeEventListener('touchstart', touchStart);
        canvas.removeEventListener('touchmove', touchMove);
        canvas.removeEventListener('touchend', touchEnd);
    }

    function resetSnakeGame() {
        snake = [{ x: 200, y: 200 }];
        direction = 'RIGHT';
        placeFood();
        score = 0;
        updateScore();
    }

    function placeFood() {
        food = {
            x: Math.floor(Math.random() * 20) * 20,
            y: Math.floor(Math.random() * 20) * 20
        };
    }

    function changeDirection(event) {
        const key = event.keyCode;
        if (key === 37 && direction !== 'RIGHT') {
            direction = 'LEFT';
        } else if (key === 38 && direction !== 'DOWN') {
            direction = 'UP';
        } else if (key === 39 && direction !== 'LEFT') {
            direction = 'RIGHT';
        } else if (key === 40 && direction !== 'UP') {
            direction = 'DOWN';
        }
    }

    // Запрет прокрутки при нажатии на стрелки
    function preventArrowScroll(e) {
        const keys = [37, 38, 39, 40];
        if (keys.includes(e.keyCode)) {
            e.preventDefault();
        }
    }

    // Обработка касаний
    function touchStart(e) {
        const touch = e.touches[0];
        touchStartX = touch.clientX;
        touchStartY = touch.clientY;
    }

    function touchMove(e) {
        e.preventDefault(); // Предотвращаем скроллинг
        const touch = e.touches[0];
        touchEndX = touch.clientX;
        touchEndY = touch.clientY;
    }

    function touchEnd() {
        const dx = touchEndX - touchStartX;
        const dy = touchEndY - touchStartY;

        if (Math.abs(dx) > Math.abs(dy)) {
            if (dx > 0 && direction !== 'LEFT') {
                direction = 'RIGHT';
            } else if (dx < 0 && direction !== 'RIGHT') {
                direction = 'LEFT';
            }
        } else {
            if (dy > 0 && direction !== 'UP') {
                direction = 'DOWN';
            } else if (dy < 0 && direction !== 'DOWN') {
                direction = 'UP';
            }
        }
    }

    function gameLoop() {
        const head = { x: snake[0].x, y: snake[0].y };
        if (direction === 'LEFT') head.x -= 20;
        if (direction === 'UP') head.y -= 20;
        if (direction === 'RIGHT') head.x += 20;
        if (direction === 'DOWN') head.y += 20;

        // Проверка на столкновение
        if (head.x < 0 || head.y < 0 || head.x >= canvas.width || head.y >= canvas.height || collision(head, snake)) {
            clearInterval(gameInterval);
            alert('Гра закінчена! Ваш рахунок: ' + score);
            resetSnakeGame();
            gameInterval = setInterval(gameLoop, 100);
            return;
        }

        snake.unshift(head);

        // Проверка на поедание пищи
        if (head.x === food.x && head.y === food.y) {
            placeFood();
            score += 10;
            updateScore();
        } else {
            snake.pop();
        }

        drawGame();
    }

    function collision(head, array) {
        for (let i = 1; i < array.length; i++) {
            if (head.x === array[i].x && head.y === array[i].y) {
                return true;
            }
        }
        return false;
    }

    function drawGame() {
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Рисуем змейку
        for (let i = 0; i < snake.length; i++) {
            ctx.fillStyle = '#FFD700';
            ctx.fillRect(snake[i].x, snake[i].y, 20, 20);
        }

        // Рисуем пищу
        ctx.fillStyle = '#FF0000';
        ctx.fillRect(food.x, food.y, 20, 20);
    }

    function updateScore() {
        document.getElementById('score').textContent = 'Рахунок: ' + score;
    }
</script>

</body>
</html>
